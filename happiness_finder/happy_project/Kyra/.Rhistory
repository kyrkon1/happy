knitr::opts_chunk$set(echo = TRUE)
#install.packages("shiny")
#install.packages("shinydashboard")
library(tidyverse)
library(naniar)
library(janitor)
library(here)
library(shiny)
library(shinydashboard)
library(ggplot2)
happy_2021 <-read.csv(here("happiness_data", "2021.csv")) %>% clean_names()
getwd()
happy_2021 <-read.csv("/happiness_data/2021.csv") %>% clean_names()
happy_2021 <-read.csv("/Users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2021.csv") %>% clean_names()
happy_2021
happy_2021$year <- "2021"
happy_2021
happy_2020 <-read.csv("Users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2020.csv")) %>% clean_names()
happy_2020 <-read.csv("Users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2020.csv") %>% clean_names()
happy_2020 <-read.csv("/users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2020.csv") %>% clean_names()
happy_2020
happy_2020$year <-"2020"
happy_2020
knitr::opts_chunk$set(echo = TRUE)
#install.packages("shiny")
#install.packages("shinydashboard")
library(tidyverse)
library(naniar)
library(janitor)
library(here)
library(shiny)
library(shinydashboard)
library(ggplot2)
getwd()
happy_2021 <-read.csv("/Users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2021.csv") %>% clean_names()
happy_2021
happy_2021$year <- "2021"
happy_2021
happy_2020 <-read.csv("/users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2020.csv") %>% clean_names()
happy_2020
happy_2020$year <-"2020"
happy_2020
names(happy_2020)
names(happy_2021)
merged_happy <-rbind(happy_2021,happy_2020)
merged_happy
write.csv(merged_happy,"merged_happy.csv",row.names = F)
n_happy <- read.csv(here("happiness_data","merged_happy.csv"))
n_happy <- read.csv("/users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/merged_happy.csv"))
n_happy <- read.csv("/users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/merged_happy.csv")
n_happy
names(n_happy)
knitr::opts_chunk$set(echo = TRUE)
#install.packages("shiny")
#install.packages("shinydashboard")
library(tidyverse)
library(naniar)
library(janitor)
library(here)
library(shiny)
library(shinydashboard)
library(ggplot2)
getwd()
happy_2021 <-read.csv("/Users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2021.csv") %>% clean_names()
happy_2021
happy_2021$year <- "2021"
happy_2021
happy_2020 <-read.csv("/users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/2020.csv") %>% clean_names()
happy_2020
happy_2020$year <-"2020"
happy_2020
names(happy_2020)
names(happy_2021)
merged_happy <-rbind(happy_2021,happy_2020)
merged_happy
write.csv(merged_happy,"merged_happy.csv",row.names = F)
n_happy <- read.csv("/users/merma/OneDrive/Desktop/happy/happiness_finder/happy_project/happiness_data/merged_happy.csv")
n_happy
names(n_happy)
glimpse(n_happy)
naniar::miss_var_summary(n_happy)
narrow <- n_happy %>%
select(country_name,ladder_score,year,social_support,healthy_life_expectancy,freedom_to_make_life_choices,generosity,perceptions_of_corruption,logged_gdp_per_capita, dystopia_residual)
narrow
tw_narrow<-
narrow%>%
filter(year=="2020")
tw_narrow
names(tw_narrow)
names(tw_narrow)
reorder <- tw_narrow %>%
group_by(country_name) %>%
pivot_longer (-c(country_name,year,ladder_score),
names_to= "Factors",
values_to="Score") %>%
clean_names()
reorder
reorder %>%
group_by(country_name) %>%
ggplot(aes(x=reorder(country_name,ladder_score),country_name,y=ladder_score, fill=factors))+
geom_col(alpha=0.55)+
coord_flip()+
labs(title = "The Dependency of Happiness on 7 Factors in 2020", x= "Countries", y="Factors")+
theme(axis.text.y =element_text(size=3.5))
t1_narrow<-
narrow%>%
filter(year=="2021")
t1_narrow
revamp <- t1_narrow %>%
group_by(country_name) %>%
pivot_longer (-c(country_name,year,ladder_score),
names_to= "Factors",
values_to="Score") %>%
clean_names()
revamp
g2<-revamp %>%
group_by(country_name) %>%
ggplot(aes(x=reorder(country_name,ladder_score),country_name,y=ladder_score, fill=factors))+
geom_col(alpha=0.55)+
coord_flip()+
labs(title = "The Dependency of Happiness on 7 Factors in 2021", x= "Countries", y="Factors")+
theme(axis.text.y =element_text(size=3.5))
g2
revamp5 <- t1_narrow %>%
top_n(5,ladder_score) %>%
group_by(country_name) %>%
pivot_longer (-c(country_name,year,ladder_score),
names_to= "Factors",
values_to="Score")
revamp5 %>%
ggplot(aes(x=reorder(country_name,ladder_score),country_name,y=ladder_score, fill=Factors))+
geom_col(alpha=0.59)+
coord_flip()+
labs(title = "The Dependency of Happiness on 7 Factors in 2021", x= "Countries", y="Factors")+
theme(axis.text.y =element_text(size=3.5))
revamp5
revampbottom5 <- t1_narrow %>%
top_n(-5,ladder_score) %>%
group_by(country_name) %>%
pivot_longer (-c(country_name,year,ladder_score),
names_to= "Factors",
values_to="Score")
revampbottom5 %>%
ggplot(aes(x=reorder(country_name,ladder_score),country_name,y=ladder_score, fill=Factors))+
geom_col(alpha=0.59)+
coord_flip()+
labs(title = "The Dependency of Happiness on 7 Factors in 2021", x= "Countries", y="Factors")+
theme(axis.text.y =element_text(size=3.5))
revampbottom5
reordermax5 <-tw_narrow %>%
top_n(5,ladder_score) %>%
group_by(country_name) %>%
pivot_longer(-c(country_name, year,ladder_score),
names_to = "Factors",
values_to= "Score")
reordermax5 <-tw_narrow %>%
top_n(5,ladder_score) %>%
group_by(country_name) %>%
pivot_longer(-c(country_name, year,ladder_score),
names_to = "Factors",
values_to= "Score")
reordermax5 %>%
ggplot(aes(x= reorder(country_name,ladder_score), country_name, y= ladder_score, fill= Factors))+
geom_col(alpha =0.55)+
coord_flip()
reordermin <-tw_narrow %>%
top_n(-5,ladder_score) %>%
group_by(country_name) %>%
pivot_longer(-c(country_name, year,ladder_score),
names_to = "Factors",
values_to= "Score")
reordermin %>%
ggplot(aes(x= reorder(country_name,ladder_score), country_name, y= ladder_score, fill= Factors))+
geom_col(alpha =0.55)+
coord_flip()
reordermax5 %>%
ggplot(aes(x= reorder(country_name,ladder_score), country_name, y= ladder_score, fill= Factors))+
geom_col(alpha =0.55)+
coord_flip()+
labs(title = "Happiness Score In 2020", x= "Countries", y= "Factors")
reordermin %>%
ggplot(aes(x= reorder(country_name,ladder_score), country_name, y= ladder_score, fill= Factors))+
geom_col(alpha =0.55)+
coord_flip()+
labs(title= "Happiness Scores in 2020", x= "Countries", y= "Factors")
revampbottom5 %>%
ggplot(aes(x=reorder(country_name,ladder_score),country_name,y=ladder_score, fill=Factors))+
geom_col(alpha=0.59)+
coord_flip()+
labs(title = "The Dependency of Happiness on 7 Factors in 2021", x= "Countries", y="Factors")+
revampbottom5
revampbottom5 %>%
ggplot(aes(x=reorder(country_name,ladder_score),country_name,y=ladder_score, fill=Factors))+
geom_col(alpha=0.59)+
coord_flip()+
labs(title = "The Dependency of Happiness on 7 Factors in 2021", x= "Countries", y="Factors")
revampbottom5
